
[[_paths]]
== Paths

[[_subscriptions_get]]
=== Finds all subscriptions for the account
....
GET /subscriptions
....


==== Description
Will return all the subscription records for the user account.


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful subscriptions response.|< <<_restresponsesubscriptions,RestResponseSubscriptions>> > array
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* subscriptions


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_subscriptions_active_get]]
=== Returns the current active subscription and policy.
....
GET /subscriptions/active
....


==== Description
Will return all the active subscription record for the user account and the policy for authorization of activity. Will return free subscription if none has been activated.


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response.|<<_restresponsesubscriptionpolicy,RestResponseSubscriptionPolicy>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* subscriptions


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_subscriptions_subscriptionid_get]]
=== Return a subscription record by its id.
....
GET /subscriptions/{subscriptionId}
....


==== Description
Will retreive a specific subscription record by its primary key.


==== Parameters

[options="header", cols=".^2,.^3,.^4"]
|===
|Type|Name|Schema
|**Path**|**subscriptionId** +
__required__|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful subscriptions response.|<<_restresponsesubscription,RestResponseSubscription>>
|**404**|Not Found. The subscription was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* subscriptions


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_things_post]]
=== Creates a new thing.
....
POST /things
....


==== Description
Will create a new thing and all the backend infrastructure required to onboard a new thing.


==== Parameters

[options="header", cols=".^2,.^3,.^9,.^4"]
|===
|Type|Name|Description|Schema
|**Body**|**body** +
__required__|The thing being proposed for the payment to be converted. In the form of UTC epoc seconds.|<<_createthingrequest,CreateThingRequest>>
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful create.|<<_restresponsething,RestResponseThing>>
|**403**|Forbidden|<<_restresponsesubscriptionpolicy,RestResponseSubscriptionPolicy>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_things_get]]
=== Finds all things for the account
....
GET /things
....


==== Description
Will return all the thing records for the user account.


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response.|<<_restresponsethings,RestResponseThings>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_things_thingid_get]]
=== Return a thing record by its id.
....
GET /things/{thingId}
....


==== Description
Will retreive a specific thing record by its primary key.


==== Parameters

[options="header", cols=".^2,.^3,.^4"]
|===
|Type|Name|Schema
|**Path**|**thingId** +
__required__|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response.|<<_restresponsething,RestResponseThing>>
|**404**|Not Found. The thing was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_things_thingid_delete]]
=== Delete a thing record by its id.
....
DELETE /things/{thingId}
....


==== Description
Will delete a specific thing record by its primary key and orchestrate the removal of all related infrastructure and messages.


==== Parameters

[options="header", cols=".^2,.^3,.^4"]
|===
|Type|Name|Schema
|**Path**|**thingId** +
__required__|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response.|<<_restresponse,RestResponse>>
|**404**|Not Found. The thing was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_things_thingid_archive_get]]
=== Get messages for a thing as a zip archive.
....
GET /things/{thingId}/archive
....


==== Description
Will get the messages for a thing with the provided query model as a zip archive.


==== Parameters

[options="header", cols=".^2,.^3,.^9,.^4"]
|===
|Type|Name|Description|Schema
|**Path**|**thingId** +
__required__||string
|**Query**|**endts** +
__optional__|end of the query UTC epoc seconds|integer
|**Query**|**messagetype** +
__optional__|the type of message, ingress and egress supported|string
|**Query**|**startts** +
__optional__|start of the query UTC epoc seconds|integer
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response. Base64 encoded file.|string (byte)
|**404**|Not Found. The thing was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/zip`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_things_thingid_collect_post]]
=== Intended for a thing to send a message to be saved.
....
POST /things/{thingId}/collect
....


==== Description
Will accept a message from a thing using asymetric auth for the thing.


==== Parameters

[options="header", cols=".^2,.^3,.^4"]
|===
|Type|Name|Schema
|**Path**|**thingId** +
__required__|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response.|<<_restresponsemessagecollection,RestResponseMessageCollection>>
|**404**|Not Found. The thing was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_verifything,verifyThing>>**
|===


[[_things_thingid_dist_get]]
=== GET /things/{thingId}/dist

==== Parameters

[options="header", cols=".^2,.^3,.^4"]
|===
|Type|Name|Schema
|**Path**|**thingId** +
__required__|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response. Base64 encoded file.|string (byte)
|**404**|Not Found. The thing was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/zip`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_things_thingid_messages_get]]
=== The REST call to get messages for a specific thing.
....
GET /things/{thingId}/messages
....


==== Description
Will retreive the messages for a thing as an rest response.


==== Parameters

[options="header", cols=".^2,.^3,.^9,.^4"]
|===
|Type|Name|Description|Schema
|**Path**|**thingId** +
__required__||string
|**Query**|**endts** +
__optional__|end of the query UTC epoc seconds|integer
|**Query**|**messagetype** +
__optional__|the type of message, ingress and egress supported|string
|**Query**|**startts** +
__optional__|start of the query UTC epoc seconds|integer
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response.|<<_restresponsemessages,RestResponseMessages>>
|**404**|Not Found. The thing was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_things_thingid_messages_delete]]
=== The REST call to delete messages for a specific thing.
....
DELETE /things/{thingId}/messages
....


==== Description
Will delete the messages for a thing with the provided query model.


==== Parameters

[options="header", cols=".^2,.^3,.^9,.^4"]
|===
|Type|Name|Description|Schema
|**Path**|**thingId** +
__required__||string
|**Query**|**endts** +
__optional__|end of the query UTC epoc seconds|integer
|**Query**|**messagetype** +
__optional__|the type of message, ingress and egress supported|string
|**Query**|**startts** +
__optional__|start of the query UTC epoc seconds|integer
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful delete.|<<_restresponse,RestResponse>>
|**404**|Not Found. The thing was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_things_thingid_publish_post]]
=== POST /things/{thingId}/publish

==== Parameters

[options="header", cols=".^2,.^3,.^9,.^4"]
|===
|Type|Name|Description|Schema
|**Path**|**thingId** +
__required__||string
|**Body**|**body** +
__required__|The message body being sent to the thing, can be JSON or free form text.|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response.|<<_restresponse,RestResponse>>
|**404**|Not Found. The thing was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* things


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===


[[_token_get]]
=== GET /token

==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response.|<<_flashlexlogin,FlashLexLogin>>
|===


==== Consumes

* `application/json`


==== Produces

* `application/zip`


==== Tags

* auth


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**basic**|**<<_basicauth,basicAuth>>**
|===


[[_users_sub_get]]
=== GET /users/{sub}

==== Parameters

[options="header", cols=".^2,.^3,.^4"]
|===
|Type|Name|Schema
|**Path**|**sub** +
__required__|string
|===


==== Responses

[options="header", cols=".^2,.^14,.^4"]
|===
|HTTP Code|Description|Schema
|**200**|Successful response.|<<_restresponseuser,RestResponseUser>>
|**404**|Not Found. The thing was not found.|No Content
|===


==== Consumes

* `application/json`


==== Produces

* `application/json`


==== Tags

* users


==== Security

[options="header", cols=".^3,.^4"]
|===
|Type|Name
|**apiKey**|**<<_auth,auth>>**
|===



