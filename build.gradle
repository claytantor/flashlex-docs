buildscript {
    repositories {
        jcenter()
        maven { url 'http://oss.jfrog.org/artifactory/oss-snapshot-local/' }
    }

    dependencies {
        classpath 'org.asciidoctor:asciidoctor-gradle-plugin:1.5.9.2'
        classpath 'io.github.swagger2markup:swagger2markup-gradle-plugin:1.3.1'
    }
}

apply plugin: 'org.asciidoctor.convert'
apply plugin: 'io.github.swagger2markup'

asciidoctor {
    sourceDir = file('docs')
    sources {
        include 'index.adoc'
    }
    outputDir = file('build/docs')
}

convertSwagger2markup {
    swaggerInput file("src/docs/swagger/dev-flashlex-backend-swagger.yaml").getAbsolutePath()
    outputDir file("component/modules/ROOT/pages/api")
    config = ['swagger2markup.markupLanguage' : 'ASCIIDOC']
}


